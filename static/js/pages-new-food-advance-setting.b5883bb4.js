(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-new-food-advance-setting"],{"10c6":function(e,t,n){"use strict";n.r(t);var a=n("4c1a"),i=n("4f0a");for(var c in i)"default"!==c&&function(e){n.d(t,e,function(){return i[e]})}(c);n("4662");var r,s=n("f0c5"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"346a0a75",null,!1,a["a"],r);t["default"]=u.exports},4362:function(e,t,n){t.nextTick=function(e){setTimeout(e,0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,a="/";t.cwd=function(){return a},t.chdir=function(t){e||(e=n("df7c")),a=e.resolve(t,a)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},4662:function(e,t,n){"use strict";var a=n("7714"),i=n.n(a);i.a},"4c1a":function(e,t,n){"use strict";var a,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"wrap"},[n("v-uni-view",[e._v("Advance settings")]),n("v-uni-view",{staticClass:"form-wrap"},[n("v-uni-view",[n("v-uni-view",{staticClass:"item-wrap"},[n("v-uni-text",[e._v("库存计算方式")]),n("v-uni-radio-group",{staticClass:"radio-wrap",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeCaculate.apply(void 0,arguments)}}},e._l(e.caculate,function(t,a){return n("v-uni-label",{key:a,staticClass:"radio"},[n("v-uni-radio",{staticClass:"radio-item",attrs:{value:t.value,checked:t.value==e.param.inventoryComputeWay}}),e._v(e._s(t.name))],1)}),1)],1),n("v-uni-view",{staticClass:"item-wrap flex align-center"},[n("v-uni-text",[e._v("库存每次减量")]),n("v-uni-view",{staticClass:"input-wrap"},[n("v-uni-input",{staticClass:"input",model:{value:e.param.inventoryDecreaseCount,callback:function(t){e.$set(e.param,"inventoryDecreaseCount",t)},expression:"param.inventoryDecreaseCount"}})],1)],1),n("v-uni-view",{staticClass:"item-wrap"},[n("v-uni-label",[e._v("库存为0时是否依然显示给用户"),n("v-uni-radio-group",{staticClass:"radio-wrap",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeStock.apply(void 0,arguments)}}},e._l(e.stock,function(t,a){return n("v-uni-label",{key:a,staticClass:"radio"},[n("v-uni-radio",{staticClass:"radio-item",attrs:{value:t.value,checked:t.value==e.param.inventoryIsZeroShowWay}}),e._v(e._s(t.name))],1)}),1)],1)],1),n("v-uni-view",{staticClass:"item-wrap flex flex-between"},[n("v-uni-view",[n("v-uni-label",[e._v("商品规格"),n("v-uni-radio-group",{staticClass:"radio-wrap",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeSpecification.apply(void 0,arguments)}}},e._l(e.specification,function(t,a){return n("v-uni-label",{key:a,staticClass:"radio"},[n("v-uni-radio",{staticClass:"radio-item",attrs:{value:t.value,checked:t.value==e.param.specType}}),e._v(e._s(t.name))],1)}),1)],1),n("v-uni-view",{staticClass:"input-wrap",class:1!=e.param.specType?"input-disabled":""},[n("v-uni-input",{staticClass:"input",attrs:{placeholder:"SKU",disabled:1!=e.param.specType},model:{value:e.param.spec,callback:function(t){e.$set(e.param,"spec",t)},expression:"param.spec"}})],1)],1),n("v-uni-view",{staticClass:"flex flex-column flex-center"},[n("v-uni-label",[e._v("初始销量"),n("v-uni-view",{staticClass:"input-wrap"},[n("v-uni-input",{staticClass:"input",attrs:{type:"numer"},model:{value:e.param.sellNumber,callback:function(t){e.$set(e.param,"sellNumber",t)},expression:"param.sellNumber"}})],1)],1),n("v-uni-label",[e._v("排序（1-100）数字越小越靠前"),n("v-uni-view",{staticClass:"input-wrap"},[n("v-uni-input",{staticClass:"input",attrs:{type:"number"},model:{value:e.param.sort,callback:function(t){e.$set(e.param,"sort",t)},expression:"param.sort"}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"item-wrap"},[n("v-uni-view",[e._v("积分与优惠")]),n("v-uni-view",{staticClass:"flex flex-between"},[n("v-uni-view",{staticClass:"setting-item"},[n("v-uni-label",[e._v("是否开启积分赠送（$1 = 10积分）"),n("v-uni-radio-group",{staticClass:"radio-wrap",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeIntegralHandsel.apply(void 0,arguments)}}},e._l(e.integralHandsel,function(t,a){return n("v-uni-label",{key:a,staticClass:"radio",attrs:{value:t.value}},[n("v-uni-radio",{staticClass:"radio-item",attrs:{value:t.value,checked:t.checked}}),e._v(e._s(t.name))],1)}),1)],1)],1),n("v-uni-view",{staticClass:"setting-item"},[n("v-uni-label",[e._v("是否开启积分抵扣"),n("v-uni-radio-group",{staticClass:"radio-wrap",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeIntegralDeduct.apply(void 0,arguments)}}},e._l(e.integralDeduct,function(t,a){return n("v-uni-label",{key:a,staticClass:"radio"},[n("v-uni-radio",{staticClass:"radio-item",attrs:{value:t.value,checked:t.checked}}),e._v(e._s(t.name))],1)}),1)],1)],1),n("v-uni-view",{staticClass:"setting-item"},[n("v-uni-label",[e._v("是否跟随全局折扣设置（当前会员折扣率：5%，上限$5）"),n("v-uni-radio-group",{staticClass:"radio-wrap",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeDiscount.apply(void 0,arguments)}}},e._l(e.discount,function(t,a){return n("v-uni-label",{key:a,staticClass:"radio"},[n("v-uni-radio",{staticClass:"radio-item",attrs:{value:t.value,checked:t.checked}}),e._v(e._s(t.name))],1)}),1)],1)],1)],1)],1)],1)],1),n("v-uni-view",{staticClass:"btn-wrap"},[n("v-uni-text",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)}}},[e._v("cancel")]),n("v-uni-text",{staticClass:"btn btn-primary",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v("confirm")])],1)],1)},c=[];n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return a})},"4f0a":function(e,t,n){"use strict";n.r(t);var a=n("df4a"),i=n.n(a);for(var c in a)"default"!==c&&function(e){n.d(t,e,function(){return a[e]})}(c);t["default"]=i.a},7714:function(e,t,n){var a=n("c1cc");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("3ff54be8",a,!0,{sourceMap:!1,shadowMode:!1})},c1cc:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.item-wrap[data-v-346a0a75]{margin-top:2.7vw}.radio-wrap[data-v-346a0a75]{margin-top:1.3vw}.radio[data-v-346a0a75]{margin-right:4.3vw}.radio-item[data-v-346a0a75]{margin-right:1.3vw}.setting-item[data-v-346a0a75]{margin-top:2.7vw}',""])},df4a:function(e,t,n){"use strict";var a=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("f499")),c=a(n("cebc")),r=n("2f62"),s=(n("df7c"),{data:function(){return{caculate:[{name:"订单支付成功减库存",checked:!0,value:"0"},{name:"用户下单时减库存",checked:!1,value:"1"},{name:"厨房完成时减库存",checked:!1,value:"3"}],stock:[{name:"显示为已售",checked:!0,value:"0"},{name:"正常显示但不可下单",checked:!1,value:"1"},{name:"不显示",checked:!1,value:"2"}],specification:[{name:"单规格",checked:!0,value:"0"},{name:"自定义规格",checked:!1,value:"1"}],integralHandsel:[{name:"开启",checked:!0,value:"1"},{name:"关闭",checked:!1,value:"0"}],integralDeduct:[{name:"开启",checked:!0,value:"1"},{name:"关闭",checked:!1,value:"0"}],discount:[{name:"是",checked:!0,value:"1"},{name:"单独设置会员折扣",checked:!1,value:"0"}],param:{inventoryComputeWay:0,inventoryIsZeroShowWay:0,specType:0,spec:"",openPresentationPoints:!0,openDeductionPoints:!0,followGlobalDiscount:!0,inventoryDecreaseCount:0,sellNumber:0,sort:1}}},computed:(0,c.default)({},(0,r.mapState)(["advanceSetting"])),onLoad:function(){"{}"!=(0,i.default)(this.advanceSetting)&&(this.param=this.advanceSetting,this.initSetting())},methods:(0,c.default)({},(0,r.mapMutations)(["setAdvanceSetting"]),{initSetting:function(){var e=this.param;e.openPresentationPoints?(this.integralHandsel[0].checked=!0,this.integralHandsel[1].checked=!1):(this.integralHandsel[0].checked=!1,this.integralHandsel[1].checked=!0),e.openDeductionPoints?(this.integralDeduct[0].checked=!0,this.integralDeduct[1].checked=!1):(this.integralDeduct[0].checked=!1,this.integralDeduct[1].checked=!0),e.followGlobalDiscount?(this.discount[0].checked=!0,this.discount[1].checked=!1):(this.discount[0].checked=!1,this.discount[1].checked=!0)},changeCaculate:function(e){var t=e.detail;this.param.inventoryComputeWay=t.value},changeStock:function(e){var t=e.detail;this.param.inventoryIsZeroShowWay=t.value},changeSpecification:function(e){var t=e.detail;this.param.specType=t.value},changeIntegralHandsel:function(e){var t=e.detail;this.integralHandsel.map(function(e){return e.checked=!1,t.value==e.value&&(e.checked=!0),e})},changeIntegralDeduct:function(e){var t=e.detail;this.integralDeduct.map(function(e){return e.checked=!1,t.value==e.value&&(e.checked=!0),e})},changeDiscount:function(e){var t=e.detail;this.discount.map(function(e){return e.checked=!1,t.value==e.value&&(e.checked=!0),e})},validateForm:function(){var e=this.param;return!(1==e.specType&&!e.spec)||(uni.showToast({icon:"none",title:"Spec cannot be empty"}),!1)},confirm:function(){var e=this.param;if(!this.validateForm())return!1;0==e.specType&&(e.spec=""),this.integralHandsel.map(function(t){t.checked&&(e.openPresentationPoints=1==t.value)}),this.integralDeduct.map(function(t){t.checked&&(e.openDeductionPoints=1==t.value)}),this.discount.map(function(t){t.checked&&(e.followGlobalDiscount=1==t.value)}),this.setAdvanceSetting(e),uni.showToast({icon:"none",title:"Setting success",success:function(e){setTimeout(function(){uni.navigateBack({delta:1})},2e3)}})},cancel:function(){uni.navigateBack({delta:1})}})});t.default=s},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,a=e.length-1;a>=0;a--){var i=e[a];"."===i?e.splice(a,1):".."===i?(e.splice(a,1),n++):n&&(e.splice(a,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return a.exec(e).slice(1)};function c(e,t){if(e.filter)return e.filter(t);for(var n=[],a=0;a<e.length;a++)t(e[a],a,e)&&n.push(e[a]);return n}t.resolve=function(){for(var t="",a=!1,i=arguments.length-1;i>=-1&&!a;i--){var r=i>=0?arguments[i]:e.cwd();if("string"!==typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,a="/"===r.charAt(0))}return t=n(c(t.split("/"),function(e){return!!e}),!a).join("/"),(a?"/":"")+t||"."},t.normalize=function(e){var a=t.isAbsolute(e),i="/"===r(e,-1);return e=n(c(e.split("/"),function(e){return!!e}),!a).join("/"),e||a||(e="."),e&&i&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(c(e,function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function a(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=a(e.split("/")),c=a(n.split("/")),r=Math.min(i.length,c.length),s=r,u=0;u<r;u++)if(i[u]!==c[u]){s=u;break}var o=[];for(u=s;u<i.length;u++)o.push("..");return o=o.concat(c.slice(s)),o.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],a=t[1];return n||a?(a&&(a=a.substr(0,a.length-1)),n+a):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))}}]);