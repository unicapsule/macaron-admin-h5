(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0f75":function(t,e,i){"use strict";var a=i("3fa2"),n=i.n(a);n.a},"2d43":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.showHeader?i("page-header"):t._e(),i("v-uni-view",{staticClass:"page-wrap page-index-wrap"},[i("v-uni-view",{staticClass:"list-wrap box-shadow"},[i("v-uni-view",{staticClass:"list-item-wrap"},t._l(t.featureList,function(e,a){return i("v-uni-view",{key:a,staticClass:"list-item",attrs:{"data-url":e.url},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"list-info"},[i("v-uni-text",{staticClass:"feature-name"},[t._v(t._s(e.name))]),i("v-uni-text",{staticClass:"list-tip"},[t._v(t._s(e.tip))])],1)],1)}),1)],1),i("v-uni-view",{staticClass:"list-wrap box-shadow"},[i("v-uni-view",{staticClass:"page-content-title"},[t._v("SHOP ACTIVITY")]),i("v-uni-view",{staticClass:"list-item-wrap"},t._l(t.dataMap,function(e,a){return i("v-uni-view",{key:a,staticClass:"list-item box-shadow shop-activity-list"},[i("v-uni-view",{staticClass:"flex"},["blue"==t.dataList[e].color?i("v-uni-view",{staticClass:"list-icon-blue"},[i("uni-icons",{attrs:{type:"home",color:"#33AC2E",size:"30",bold:!0}})],1):i("v-uni-view",{staticClass:"list-icon-purple"},[i("uni-icons",{attrs:{type:"email",color:"#8C54FF",size:"30",bold:!0}})],1),i("v-uni-view",{staticClass:"list-info"},[i("v-uni-text",{staticClass:"shop-activity-count"},[t._v(t._s(t.dataList[e].value))]),i("v-uni-view",{staticClass:"list-tip"},[t._v(t._s(t.dataList[e].name))])],1)],1)],1)}),1)],1)],1),i("uni-notify",{ref:"notify"})],1)},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},"3d03":function(t,e,i){"use strict";i.r(e);var a=i("2d43"),n=i("5feb");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("0f75");var s,r=i("f0c5"),u=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"457a59d9",null,!1,a["a"],s);e["default"]=u.exports},"3fa2":function(t,e,i){var a=i("b598");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("094d20b6",a,!0,{sourceMap:!1,shadowMode:!1})},"5feb":function(t,e,i){"use strict";i.r(e);var a=i("69ce"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"69ce":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("795b")),o=a(i("44e1")),s=a(i("aab1")),r=a(i("5e7f")),u={components:{uniDrawer:o.default,pageHeader:s.default,upload:r.default},data:function(){return{showHeader:!1,isSetting:!1,isShowDrawer:!1,drawerVisible:!1,drawerStatus:"setting",featureList:[{name:"Staff management",url:"/pages/staff/index"},{name:"Food management",tip:"manage food in your shop",url:"/pages/food/index"},{name:"Flavor & garnish",tip:"customization food",url:"/pages/flavor-setting/index"},{name:"Orders",url:"/pages/order-list/index"},{name:"Food category",url:"/pages/category/index"},{name:"User’s reviews",url:""},{name:"Shop settings",tip:"shop settings",url:"/pages/shop-setting/index"},{name:"Discount & coupon",url:""}],dataMap:["food","views","orders","comments","income"],dataList:{food:{name:"food",value:0,unit:"件",color:"blue"},views:{name:"views",value:0,unit:"次",color:"blue"},orders:{name:"orders",value:0,unit:"个",color:"purple"},comments:{name:"comments",value:0,unit:"个",color:"purple"},income:{name:"income",value:0,unit:"",color:"purple"}},inputVal:""}},computed:{shopId:function(){return uni.getStorageSync("shopId")},token:function(){return uni.getStorageSync("token")}},onLoad:function(){this.token?(this.getCountInfo(),this.initData(),this.showHeader=!0):uni.reLaunch({url:"/pages/login/index"})},methods:{initData:function(){var t=this;return new n.default(function(e){t.$getHttp(t.$API.restaurantDetail).then(function(t){if(1==t.status){var e=t.data,i=!0,a=["logo","address","priceLevel","category","announcement"];uni.setStorageSync("restaurantInfo",e);for(var n=0;n<a.length;n++){var o=a[n];if(!e[o]){i=!1;break}}i||uni.navigateTo({url:"/pages/shop-setting/index"})}}).catch(function(t){console.log(t)})})},getFoodCount:function(){var t=this;this.$getHttp(this.$API.getFoodCount,{restaurantId:this.shopId}).then(function(e){t.dataList["food"].value=e.data,t.getCountInfo()})},getCountInfo:function(){var t=this,e=[];e.push(this.$getHttp(this.$API.getOrderCount,{restaurantId:this.shopId}).then(function(e){console.log("order-count"),t.dataList["orders"].value=e.data.count,t.dataList["income"].value="$"+e.data.totalAmount})),e.push(this.$getHttp(this.$API.getReviewsCount,{restaurantId:this.shopId}).then(function(e){console.log("comment-count"),t.dataList["comments"].value=e.data})),e.push(this.$getHttp(this.$API.getViewCount,{restaurantId:this.shopId}).then(function(e){console.log("view-count"),t.dataList["views"].value=e.data})),e.reduce(function(t,e){return t.then(e)},n.default.resolve())},navTo:function(t){var e=t.currentTarget.dataset.url;e&&uni.navigateTo({url:e})}}};e.default=u},b598:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.list-tip[data-v-457a59d9]{font-size:1.4vw;color:#8798ad}.list-wrap[data-v-457a59d9]{background-color:#fff;border-radius:1px;border:1px solid rgba(46,91,255,.08);margin:3.3vw 0;padding:2.9vw 1.5vw}.list-item[data-v-457a59d9]{width:21.8vw;min-height:8.9vw;margin-right:2vw;margin-bottom:2.9vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:.5vw;border:1px solid #e0e7ff}.list-item[data-v-457a59d9]:nth-child(4n){margin-right:0}.list-info[data-v-457a59d9]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.list-icon-blue[data-v-457a59d9],.list-icon-purple[data-v-457a59d9]{width:4.9vw;height:4.9vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:50%;color:#33ac2e;background:rgba(51,172,46,.15);margin-right:1.6vw}.list-icon-purple[data-v-457a59d9]{color:#8c54ff;background:rgba(140,84,255,.15)}.list-item-wrap[data-v-457a59d9]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.feature-name[data-v-457a59d9]{font-size:1.5vw;font-weight:500;color:#2e384d}.shop-activity-count[data-v-457a59d9]{font-size:3.3vw;color:#2e384d}.shop-activity-list[data-v-457a59d9]{padding-top:3.1vw;padding-bottom:1.6vw}',""])}}]);